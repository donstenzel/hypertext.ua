# Experimental!
~ "generator" ~ Generate MakeSkel

GetExt       â† â†˜+â‚âŠšâŠ¸âŒ•@.
SpecialMimes â† Â°âŠŸâ‰[
  {"js" "text/javascript"}
  {"wasm" "application/wasm"}
]
ExtMime â† (
  â–¡GetExt
  SpecialMimes
  ğ„ˆâ–½âŠ™âŠ¸ğ„ˆâŒ•:
  â£(âŠ“(Â°â–¡âŠ¢|â—Œ)|â—‡âŠ‚"text/"â—Œ)
)

Response â† (
  âŠ™âŠ™âŠ¸â§»
  $$ HTTP/1.1 _
  $$ Content-Type: _
  $$ Content-Length: _
  $$ 
  $$ 
  âŠ‚ utfâ‚ˆ
)

HandleRequest â† â£(
  Response "200 OK" "text/html" &frab "root/index.html" Â°"root/"
| ExtMime âŸœ&frab
  Response "200 OK"
| Response "404 Not Found" "text/plain" utfâ‚ˆ"Not Found" â—Œ
) âŠ‚"root"

Respond â† â—Œpool(
  &p$"Request by _" âŠ¸&tcpaddr
  Â°â–¡âŠ¡â‚ âŠœâ–¡âŠ¸â‰ @\s âŠ¸&ru "\r\n\r\n"
  &pâŠ¸$"Path is root_"
  HandleRequest
  &p$"Response is _ bytes."âŠ¸â§»
  âŠƒâ‹…&cl&w
)

Server â† &tcpl "0.0.0.0:8000"

MakeSkel
Generate

â¢(â£Respondâ‹…&p &tcpa Server)1
